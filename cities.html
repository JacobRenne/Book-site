<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Sida</title>
    <link rel="stylesheet" href="cities.css">
</head>
<body>
    <header class="header">
        <div id="brand">
            <img src="img/svg-book.svg" alt="Logo of a book">
            <h1>Wow, Books!</h1>
        </div>
        <nav class="header-nav">
            <ul>
                <li class="nav-library"><a href="index.html">Library</a></li>
                <li class="nav-search"><a href="search.html">Search</a></li>
                <li class="nav-cities" style="background-color: #121212;"><a href="cities.html">Cities</a></li>
            </ul>
        </nav>
    </header>
    <div id="app">
        <h1>Cities Control Panel</h1>

        <div id="form-div">
            <form v-if="currentEdit !== null">
                <h3>Edit city</h3>

                <label for="city-id">City ID</label>
                <input type="text" id="city-id" v-model="currentEdit.id" disabled>

                <label for="city-name">City Name</label>
                <input type="text" id="city-name" v-model="currentEdit.name">

                <label for="city-pop">City Population</label>
                <input type="number" id="city-pop" v-model="currentEdit.population">

                <button @click="sendEdit">EDIT</button>
            </form>

            <form>
                <h3>Add city</h3>

                <div id="add-inputs">
                    <label for="add-city-name">City Name</label>
                    <input type="text" id="add-city-name" v-model="addCity.name">

                    <label for="add-city-pop">City Population</label>
                    <input type="number" id="add-city-pop" v-model="addCity.population">

                    <button @click="addCityFunc">ADD</button>
                </div>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Population</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>

            <tbody>
                <tr v-for="city in cities">
                    <td>{{city.id}}</td>
                    <td>{{city.name}}</td>
                    <td>{{city.population}}</td>
                    <td class="button" @click="editCity(city.id, city.name, city.population)">EDIT</td>
                    <td class="button" @click="deleteCity(city.id)">DELETE</td>                    
                </tr>
            </tbody>    
        </table>
    </div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="cities.js"></script>
</body>
</html>